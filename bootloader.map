
- NASM Map file ---------------------------------------------------------------

Source file:  bootloader.asm
Output file:  bootloader

-- Program origin -------------------------------------------------------------

00009000

-- Sections (summary) ---------------------------------------------------------

Vstart            Start             Stop              Length    Class     Name
            9000              9000              9499  00000499  progbits  .text
            949C              949C              9504  00000068  progbits  .data
            9600              9600              9800  00000200  progbits  .rodata
            9800              9800              9E0D  0000060D  nobits    .bss

-- Sections (detailed) --------------------------------------------------------

---- Section .text ------------------------------------------------------------

class:     progbits
length:                 499
start:                 9000
align:     not defined
follows:   not defined
vstart:                9000
valign:    not defined
vfollows:  not defined

---- Section .data ------------------------------------------------------------

class:     progbits
length:                  68
start:                 949C
align:                    4
follows:   not defined
vstart:                949C
valign:    not defined
vfollows:  not defined

---- Section .rodata ----------------------------------------------------------

class:     progbits
length:                 200
start:                 9600
align:                  200
follows:   not defined
vstart:                9600
valign:    not defined
vfollows:  not defined

---- Section .bss -------------------------------------------------------------

class:     nobits
length:                 60D
start:                 9800
align:     not defined
follows:   not defined
vstart:                9800
valign:                   4
vfollows:  not defined

-- Symbols --------------------------------------------------------------------

---- No Section ---------------------------------------------------------------

Value     Name
00000000  VesaInfoBlock
00000000  VesaInfoBlock.Signature
00000004  VesaInfoBlock.Version
00000006  VesaInfoBlock.OEMNamePtr
0000000A  VesaInfoBlock.Capabilities
0000000E  VesaInfoBlock.VideoModesOffset
00000010  VesaInfoBlock.VideoModesSegment
00000012  VesaInfoBlock.CountOf64KBlocks
00000014  VesaInfoBlock.OEMSoftwareRevision
00000016  VesaInfoBlock.OEMVendorNamePtr
0000001A  VesaInfoBlock.OEMProductNamePtr
0000001E  VesaInfoBlock.OEMProductRevisionPtr
00000022  VesaInfoBlock.Reserved
00000100  VesaInfoBlock.OEMData
00000200  VesaInfoBlock_size
00000000  VesaModeInfoBlock
00000000  VesaModeInfoBlock.ModeAttributes
00000002  VesaModeInfoBlock.FirstWindowAttributes
00000003  VesaModeInfoBlock.SecondWindowAttributes
00000004  VesaModeInfoBlock.WindowGranularity
00000006  VesaModeInfoBlock.WindowSize
00000008  VesaModeInfoBlock.FirstWindowSegment
0000000A  VesaModeInfoBlock.SecondWindowSegment
0000000C  VesaModeInfoBlock.WindowFunctionPtr
00000010  VesaModeInfoBlock.BytesPerScanLine
00000012  VesaModeInfoBlock.Width
00000014  VesaModeInfoBlock.Height
00000016  VesaModeInfoBlock.CharWidth
00000017  VesaModeInfoBlock.CharHeight
00000018  VesaModeInfoBlock.PlanesCount
00000019  VesaModeInfoBlock.BitsPerPixel
0000001A  VesaModeInfoBlock.BanksCount
0000001B  VesaModeInfoBlock.MemoryModel
0000001C  VesaModeInfoBlock.BankSize
0000001D  VesaModeInfoBlock.ImagePagesCount
0000001E  VesaModeInfoBlock.Reserved1
0000001F  VesaModeInfoBlock.RedMaskSize
00000020  VesaModeInfoBlock.RedFieldPosition
00000021  VesaModeInfoBlock.GreenMaskSize
00000022  VesaModeInfoBlock.GreenFieldPosition
00000023  VesaModeInfoBlock.BlueMaskSize
00000024  VesaModeInfoBlock.BlueFieldPosition
00000025  VesaModeInfoBlock.ReservedMaskSize
00000026  VesaModeInfoBlock.ReservedMaskPosition
00000027  VesaModeInfoBlock.DirectColorModeInfo
00000028  VesaModeInfoBlock.LFBAddress
0000002C  VesaModeInfoBlock.OffscreenMemoryOffset
00000030  VesaModeInfoBlock.OffscreenMemorySize
00000032  VesaModeInfoBlock.Reserved2
00000100  VesaModeInfoBlock_size


---- Section .text ------------------------------------------------------------

Real              Virtual           Name
            9000              9000  start
            900D              900D  setup_pmode
            9022              9022  clear_pipe
            904F              904F  calculate_offset
            9072              9072  _putc
            9078              9078  _puts
            908A              908A  _puts.done
            908B              908B  _puthex
            90A8              90A8  _puthex.loop
            90B2              90B2  _puthex.digit
            90B6              90B6  _puthex.alpha
            90B8              90B8  _puthex.ok
            90C9              90C9  putc
            90D4              90D4  puts
            90DF              90DF  puthex
            90F6              90F6  flip
            9115              9115  read
            9155              9155  read.wait
            916D              916D  read_int
            91A9              91A9  disk_packet
            91AB              91AB  disk_packet.cnt
            91AD              91AD  disk_packet.addr
            91AF              91AF  disk_packet.seg
            91B1              91B1  disk_packet.lba_l32
            91B5              91B5  disk_packet.lba_h16
            91B9              91B9  fat_loc
            91BB              91BB  data_loc
            91BD              91BD  main
            92A8              92A8  main.find_kernel_reread
            92C1              92C1  main.next_entry
            92D9              92D9  main.cmp
            92F4              92F4  main.break
            9319              9319  main.break_found
            93DD              93DD  main.load_kernel
            9487              9487  hang
            9497              9497  hang.hang

---- Section .data ------------------------------------------------------------

Real              Virtual           Name
            949C              949C  ..@4.string
            94A3              94A3  ..@9.string
            94B1              94B1  ..@14.string
            94C0              94C0  ..@19.string
            94D1              94D1  ..@23.string
            94DE              94DE  ..@27.string
            94E9              94E9  ..@32.string
            94F7              94F7  ..@37.string
            9503              9503  drive

---- Section .rodata ----------------------------------------------------------

Real              Virtual           Name
            9600              9600  protected_mode_string
            9617              9617  protected_mode_string.end
            9618              9618  gdt
            9618              9618  gdt_null
            9620              9620  gdt_code
            9628              9628  gdt_data
            9630              9630  gdt_end
            9630              9630  gdt_desc
            9636              9636  kernel_name
            9800              9800  end

---- Section .bss -------------------------------------------------------------

Real              Virtual           Name
            9800              9800  hexbuf
            9809              9809  bootsect
            9809              9809  bootsect.jmpcmd
            980C              980C  bootsect.BS_OEMNAME
            9814              9814  bootsect.BPB_BytsPerSec
            9816              9816  bootsect.BPB_SecPerClus
            9817              9817  bootsect.BPB_RsvdSecCnt
            9819              9819  bootsect.BPB_NumFATs
            981A              981A  bootsect.BPB_RootEntCnt
            981C              981C  bootsect.BPB_TotSec16
            981E              981E  bootsect.BPB_Media
            981F              981F  bootsect.BPB_FATSz16
            9821              9821  bootsect.BPB_SecPerTrk
            9823              9823  bootsect.BPB_NumHeads
            9825              9825  bootsect.BPB_HiddSec
            9829              9829  bootsect.BPB_TotSec32
            982D              982D  bootsect.BPB_FATSz32
            9831              9831  bootsect.BPB_ExtFlags
            9833              9833  bootsect.BPB_FSVer
            9835              9835  bootsect.BPB_RootClus
            9839              9839  bootsect.BPB_FSInfo
            983B              983B  bootsect.BPB_BkBootSec
            983D              983D  bootsect.BPB_Reserved
            9849              9849  bootsect.BS_DrvNum
            984A              984A  bootsect.BS_Reserved
            984B              984B  bootsect.BS_BootSig
            984C              984C  bootsect.BS_VolID
            9850              9850  bootsect.BS_VolLab
            985B              985B  bootsect.BS_FilSysType
            9863              9863  bootsect.BS_BootCode32
            9A07              9A07  bootsect.BS_BootSign
            9A09              9A09  buffer
            9A09              9A09  buffer.fat
            9C09              9C09  buffer.data
            9E09              9E09  kernel_cluster

