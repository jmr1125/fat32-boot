
- NASM Map file ---------------------------------------------------------------

Source file:  bootloader.asm
Output file:  bootloader

-- Program origin -------------------------------------------------------------

00008000

-- Sections (summary) ---------------------------------------------------------

Vstart            Start             Stop              Length    Class     Name
            8000              8000              845A  0000045A  progbits  .text
            845C              845C              84C4  00000068  progbits  .data
            8600              8600              8800  00000200  progbits  .rodata
            8800              8800              8E0D  0000060D  nobits    .bss

-- Sections (detailed) --------------------------------------------------------

---- Section .text ------------------------------------------------------------

class:     progbits
length:                 45A
start:                 8000
align:     not defined
follows:   not defined
vstart:                8000
valign:    not defined
vfollows:  not defined

---- Section .data ------------------------------------------------------------

class:     progbits
length:                  68
start:                 845C
align:                    4
follows:   not defined
vstart:                845C
valign:    not defined
vfollows:  not defined

---- Section .rodata ----------------------------------------------------------

class:     progbits
length:                 200
start:                 8600
align:                  200
follows:   not defined
vstart:                8600
valign:    not defined
vfollows:  not defined

---- Section .bss -------------------------------------------------------------

class:     nobits
length:                 60D
start:                 8800
align:     not defined
follows:   not defined
vstart:                8800
valign:                   4
vfollows:  not defined

-- Symbols --------------------------------------------------------------------

---- Section .text ------------------------------------------------------------

Real              Virtual           Name
            8000              8000  start
            801D              801D  clear_pipe
            804A              804A  calculate_offset
            806D              806D  _putc
            8073              8073  _puts
            8085              8085  _puts.done
            8086              8086  _puthex
            80A3              80A3  _puthex.loop
            80AD              80AD  _puthex.digit
            80B1              80B1  _puthex.alpha
            80B3              80B3  _puthex.ok
            80C4              80C4  putc
            80CF              80CF  puts
            80DA              80DA  puthex
            80F1              80F1  flip
            8110              8110  read
            8150              8150  read.wait
            8168              8168  fat_loc
            816A              816A  data_loc
            816C              816C  main
            825A              825A  main.find_kernel_reread
            8273              8273  main.next_entry
            828B              828B  main.cmp
            82A6              82A6  main.break
            82CB              82CB  main.break_found
            838F              838F  main.load_kernel
            8448              8448  hang
            8458              8458  hang.hang

---- Section .data ------------------------------------------------------------

Real              Virtual           Name
            845C              845C  ..@4.string
            8463              8463  ..@9.string
            8471              8471  ..@14.string
            8480              8480  ..@19.string
            8491              8491  ..@23.string
            849E              849E  ..@27.string
            84A9              84A9  ..@32.string
            84B7              84B7  ..@37.string
            84C3              84C3  drive

---- Section .rodata ----------------------------------------------------------

Real              Virtual           Name
            8600              8600  protected_mode_string
            8617              8617  protected_mode_string.end
            8618              8618  gdt
            8618              8618  gdt_null
            8620              8620  gdt_code
            8628              8628  gdt_data
            8630              8630  gdt_end
            8630              8630  gdt_desc
            8636              8636  kernel_name
            8800              8800  end

---- Section .bss -------------------------------------------------------------

Real              Virtual           Name
            8800              8800  hexbuf
            8809              8809  bootsect
            8809              8809  bootsect.jmpcmd
            880C              880C  bootsect.BS_OEMNAME
            8814              8814  bootsect.BPB_BytsPerSec
            8816              8816  bootsect.BPB_SecPerClus
            8817              8817  bootsect.BPB_RsvdSecCnt
            8819              8819  bootsect.BPB_NumFATs
            881A              881A  bootsect.BPB_RootEntCnt
            881C              881C  bootsect.BPB_TotSec16
            881E              881E  bootsect.BPB_Media
            881F              881F  bootsect.BPB_FATSz16
            8821              8821  bootsect.BPB_SecPerTrk
            8823              8823  bootsect.BPB_NumHeads
            8825              8825  bootsect.BPB_HiddSec
            8829              8829  bootsect.BPB_TotSec32
            882D              882D  bootsect.BPB_FATSz32
            8831              8831  bootsect.BPB_ExtFlags
            8833              8833  bootsect.BPB_FSVer
            8835              8835  bootsect.BPB_RootClus
            8839              8839  bootsect.BPB_FSInfo
            883B              883B  bootsect.BPB_BkBootSec
            883D              883D  bootsect.BPB_Reserved
            8849              8849  bootsect.BS_DrvNum
            884A              884A  bootsect.BS_Reserved
            884B              884B  bootsect.BS_BootSig
            884C              884C  bootsect.BS_VolID
            8850              8850  bootsect.BS_VolLab
            885B              885B  bootsect.BS_FilSysType
            8863              8863  bootsect.BS_BootCode32
            8A07              8A07  bootsect.BS_BootSign
            8A09              8A09  buffer
            8A09              8A09  buffer.fat
            8C09              8C09  buffer.data
            8E09              8E09  kernel_cluster

